# 1. 此專案最終目的為開發 蘭花智慧育種平台網站
# 2. 目前這個版本的專案主要
>### a. 目前專案主要在 mysite 目錄，請參考此目錄
>### b. 主要在測試，可否將 django 的 database Engine 換成 mysql
>### c. 還有測試是否可使用 appache 來當作 django 的 server
>### d. 最終結果就是 :
>>#### 1. 在 admin 介面讀取先前蝴蝶蘭降解組網站的 database table (DB 為 pha_db_n2)
>>#### 2. database 使用 mysql Engine
>>#### 3. 環境都建在 container 內 (若有需要 DockerFile 可以再上傳到 github)

# 3. 目前使用 model 的方式與 mysql database 進行溝通 (由於後續發生太多問題，新版本後轉而使用 connections)
>#### *底下首先介紹蘭花育種平台的完成概況
# 需要 :
| 環境        | 狀態                                              | 備註                                                                                                            |
|-------------|---------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|
| MySQL       | 已建置於 docker container 中了                    | 來源:docker image mysql:8; 版本:8.0.32; 修改了 settings.py 的 DATABASES 的設置讓 django 可以連通 mysql database |
| Appach      | 同上;  將 mysql 和 appache 結合後網站確實能跑起來 | 版本:docker image httpd:2.4.55; 版本:2.4.55                                                                     |
| python 版本 | 3.9.2                                             |                                                                                                                 |
| django 版本 | 3.2                                               |                                                                                                                 |
| bootstap    | 5.3.0-alpha1-dist                                 | WSL 上用的為 bootstrap-5.3.0-alpha1-dist                                                                        |
| docker 環境 | 已建置                                            |                                                                                                                 |


| 功能                          | 完成度 | 備註                                                                                    |
|-------------------------------|--------|-----------------------------------------------------------------------------------------|
| Session 登入                  | 0%     |                                                                                         |
| Cookie 登入                   | 0%     |                                                                                         |
| MySQL database                | 0%     | 資料還沒來 (先用先前蘭花網站的 database)                                                |
| Web 提供 database 增/刪的 api | 0%     | 目前版本沒有製作 (新版的才有)                                                           |
| 其它 ..                       |        | 網站要讀取關聯式資料庫，並提供 API，並且功能穩定                                        |
| 其它 ..                       |        | 使用者分成 super user / teacher / student (super user 為我們實驗室的開發人員)           |
| 其它 ..                       |        | 網頁對於不同，階級的使用者在同個頁面上提供的可操作資料庫的 API 和能瀏覽的內容會有所不同 |
| 其它 .. (後續會繼續更新)      |        |                                                                                         |
註:上述為目前這個版本的狀況，新的版本完程度幾乎接近 100 %

# 2. 首先先在 WSL 上嘗試重製先前的蘭花網站 (該網站主要呈現 V3 蝴蝶蘭的降解組分析結果)
| 環境        | 完成度 | 備註                                          |
|-------------|--------|-----------------------------------------------|
| SQLite      |        | 已換成 MySQL                                  |
| MySQL       | 100%   | 已替換                                        |
| apach       | 100%   | 已使用 apach 去跑                             |
| python      |        | 3.8.15                                        |
| django      |        | 3.2                                           |
| bootstap    |        | bootstrap-5.3.0-alpha1-dist                   |
| docker 環境 | 100%   | 建置兩個容器分別為 1. mysql 2. djagno+appache |

| 功能                                      | 完成度 | 備註                                                                                                          |
|-------------------------------------------|--------|---------------------------------------------------------------------------------------------------------------|
| Session 登入                              | 0%     | Session 登入設定先前的 php 網站是有做出，但 django 的版本還要再研究                                           |
| Cookie 登入                               | 0%     | 同上                                                                                                          |
| 左側功能欄 (DEGs 篩選器)                  | 0%     | 先前網站是靠 iframe 制作功能欄，現在所有功能皆綁在同個頁面會，目前僅想到用 ajax 讓頁面僅刷新 table (還要研究) |
| 網頁主頁面完成度 (呈現我們的表現量 table) | 70%    | 目前排版認為尚可，但功能欄未完成，且有些沒有圖片的結果還是會出現在我們網站上                                  |
| MySQL database                            | 0%     | 還未設定 (這裡練習用的網站功能完成的差不多了，或許可以未了後續準備先換成 MySQL 的綁定看可否跑起來)            |
| 其它 ..                                   |        | 網站要讀取關聯式資料庫，並提供 API，並且功能穩定                                                              |
| 其它 ..                                   |        | 使用者分成 super user / teacher / student (super user 為我們實驗室的開發人員)                                 |
| 其它 ..                                   |        | 網頁對於不同，階級的使用者在同個頁面上提供的可操作資料庫的 API 和能瀏覽的內容會有所不同                       |
| 其它 .. (後續會繼續更新)                  |        |                                                                                                               |
註:上述為目前這個版本的狀況，新的版本完程度幾乎接近 100 %

# 3. 頁面導覽
| 頁面               | 備註                                                                                                                                                                                                                                                                                                                                                             |
|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| localhost/test     | 1. 為測試頁面+主頁面的入口 <Br /> 2. 導覽頁面中 link 為 /test/... 皆為功能測試頁面 <Br /> 3. 而剩下的 4 個頁面 (localhost/V3deg; loc../OrchidLogin; loc../OrchidMain; loca.../DjForm;) 為我主要專注開發的網站                                                                                                                                                    |
| localhost/...      | 再詳細介紹一下上述 4 個主要開發的網站 : <Br /> 1. V3deg，為前面提到的 V3 降解組分析網站的復刻 (主要頁面呈現已完成，功能欄未完成，有小 bug) <Br /> 2. Login 先簡單做個 Login 後續還要再加上 Session, Cookie <Br /> 3. OrchidMain 為較早做出的 web 頁面與 V3deg 頁面不同，幾乎套用了我全部 base.html 上所寫的 block，後續有需要可能會拿來參考                      |
| localhost/... (續) | V3deg 有個主要的 bug : 即有些 static 內沒有的圖片 (... _T-plots.pdf 等圖檔)，因為抓不到而會被以 404 呈現 (目前沒有找到如何簡單的在 view.py 簡易檢測圖片存在的方法) <Br />ex: http://localhost/V3deg/detail/?Transcript_ID=PggD10737_c261_g1_i1&Cleavage_Position=257.0&miRNA_ID=dgc-miR164a&miRNA_aligned_fragment=TGGAGAAGCAGGGCACGTGTT&click=Cleavage_Position |

# Code 架構
| data 存放      | 備註                                                                                                                                                                                                                                                                                                                                               |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| view           | 目前網站主要在 app2 開發                                                                                                                                                                                                                                                                                                                           |
| model          | 同上 (但新增了 app:phal_db_n2 裡面連通了 mysql，並且可呈現於 admin 介面)                                                                                                                                                                                                                                                                                                                                               |
| static         | V3 降解組的 T-plot pdf 圖; miRNA gif 圖; 網頁 title; bootstrap 的 css+js                                                                                                                                                                                                                                                                           |
| templates      | 1. 功能測頁頁和導覽頁皆放在 templates/testweb <Br />2.主要開發頁面放在 templates 內 : <Br /> 模板使用 base.html <Br />, 網站的其它部分被切割為 header.html (網站的頭部的招牌)<Br />neck.html (後續可能皆用不到但先放著)<Br />leftmenu.html (左側功能欄)<Br />content.html<Br />footer.html (最底下的資訊欄)<Br />上述皆為用於主發頁面 include 用的 |
| templates (續) | DjangoForm.html, OrchidWeb....html 等，即為目前我主要開發的頁面，也是 view 會去 get_template 的對象                                                                                                                                                                                                                                                |

# 資料庫建置 (目前資料庫還是使用 sqlite)
## 目前用的 db 為 db.sqlite3
| database                     | 備註                                                         |
|------------------------------|--------------------------------------------------------------|
| 範例資料庫                   | 使用先前拿來學習的範例資料庫                                 |
| app2_degradomereslut (V3deg) | 為先前蘭花網站的資料庫 ctable.sql 為當時建置該資料表用的 sql |



